# 离散微分几何
三角网格曲面的两种观点
* 观点1: 曲面的离散逼近, 本质是分片线性逼近
* 观点2: 平面图的顶点提升到三维空间, 本质是二维流形

# 微分几何的概念
## Frenet标架
设曲线$C(u)$
Frenet frame: { T,N,B }
$C_u=\frac{\partial C(u)}{\partial u}, T = \frac{C_u}{||C_u||}$

$C_{uu}=\frac{\partial^2 C(u)}{\partial u^2}$是u的二阶偏导, $B = \frac{C_u\times C_{uu}}{||C_u\times C_{uu}||}$

$N =  B \times T$
## 曲率
$\kappa$与参数化无关, 公式随便找本微分几何的书看看就行

## 曲面
曲面就是$u,v$映射到$x,y,z$, $\mathbb{R}^2 \rightarrow \mathbb{R}^3$. 所以就可以求两个方向的偏导(切线), 这两个切线就张成了切平面. 

曲面法向N就是两个偏导的叉积, 再单位化.

由于有无数的切线, 所以有方向曲率: 曲率随着方向变化

旋转的过程中, 有两个方向有最大的曲率$\kappa_1$和最小的曲率$\kappa_2$, 并且这两个方向一定相互垂直. 

欧拉公式: 其他方向曲率$\kappa = \kappa_1 \cos^2\theta + \kappa_2 \sin^2\theta$

高斯曲率: $\kappa = \kappa_1 \kappa_2$, 高斯曲率处处为0的就是**可展曲面**. 高斯曲率是等距变换的不变量(比如把纸张卷起来)

平均曲率: $\kappa = \frac{\kappa_1 + \kappa_2}{2}$, 处处平均曲率为0的曲面就叫**极小曲面**

> 上面是微分几何的概念, 下面是离散微分几何

## 离散微分几何
因为是离散的, 所以只有$C^0$连续, 不可微, 如何在不可微的曲面上讨论微分几何?
答: 离散曲面是从可微的曲面上采样来的, 所以通过采样点研究微分性质(差分代替微分?)

* 怎么估计微分属性?
  * 连续逼近: 找到附近的点, 拟合一个光滑曲面, 用这个拟合的曲面代替原来的曲面的微分属性
  * 离散逼近: 
    * 比如求法向, 用顶点附近的面的法向做加权平均, 可以用面积加权等等
    * 求平均曲率: $K(x_i)=\frac{1}{2A_M}\sum_{j\in N_1(i)} (\cot \alpha_{ij} + \cot \beta_{ij})(x_i - x_j)$
    * 求高斯曲率


## 离散曲面的局部迭代法
1. 找到边界
2. 固定边界顶点
3. 对每个内部顶点
   1. 找顶点1邻域
   2. 更新坐标
4. 迭代
5. 更新所有顶点法向
注
* 封闭曲面
* $\lambda < 1$